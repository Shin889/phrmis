{% extends 'template.html' %}
{% load static %}

{% block title %}
HRMIS | Work Experience
{% endblock %}

{% block content %}
<div id="content" class="app-content">
    <form method="POST" class="fs-13px" name="signup" onsubmit="return checkpassword()" enctype="multipart/form-data">
        {% csrf_token %}
        
        <h1 class="page-header"><i class="fas fa-briefcase me-2"></i>Present Work Experience</h1>
        <div class="panel panel-inverse">
            <div class="panel-heading">
                <h4 class="panel-title"><i class="fas fa-history me-2"></i>Employment Details</h4>
                <div class="panel-heading-btn">
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-warning" data-toggle="panel-collapse"><i
                            class="fa fa-minus"></i></a>
                </div>
            </div>
            <div class="panel-body">
                
                <div class="mb-3">
                    <label class="form-label">Position Title</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-user-tie"></i></span>
                        <input class="form-control" type="text" id="pt" name="positiontitle" placeholder="Position Title"
                            value="{{work_entry.positiontitle}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Office</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-building"></i></span>
                        <input class="form-control" type="text" id="coa" name="companyofficeagency" placeholder="Company/Office/Agency Name"
                            value="{{work_entry.companyofficeagency}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Monthly Salary</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-peso-sign"></i></span> <input class="form-control" type="text" id="ms" name="monthlysalary" placeholder="Monthly Salary (e.g., 25000.00)"
                            value="{{work_entry.monthlysalary}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Salary Grade</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-sort-numeric-up"></i></span>
                        <input type="text" class="form-control" id="sg" name="salarygrade" placeholder="Salary Grade (e.g., 11)"
                            value="{{work_entry.salarygrade}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Appointment Status</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-id-badge"></i></span>
                        <input type="text" class="form-control" id="aps" name="appointmentstatus" placeholder="Appointment Status (e.g., Permanent, Contractual)"
                            value="{{work_entry.appointmentstatus}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">From Date</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-calendar-check"></i></span>
                        <input type="date" class="form-control" id="fd" name="fromdate" placeholder="From Date"
                            value="{{work_entry.fromdate|date:'Y-m-d'}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">To Date</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-calendar-times"></i></span>
                        <input type="date" class="form-control" id="td" name="todate" placeholder="To Date"
                            value="{{work_entry.todate|date:'Y-m-d'}}" />
                    </div>
                </div>
                
            </div>
        </div>

        <div class="text-end mt-3">
        <button type="submit" class="btn btn-dark px-4" name="form_type" value="present"><i class="fas fa-save me-2"></i>Save</button>
    </div>  

    </form>
    <form method="POST" class="fs-13px" name="signup" onsubmit="return checkpassword()" enctype="multipart/form-data">
        {% csrf_token %}
        
        <h1 class="page-header"><i class="fas fa-briefcase me-2"></i>Past Work Experience</h1>
        <div class="panel panel-inverse">
            <div class="panel-heading">
                <h4 class="panel-title"><i class="fas fa-history me-2"></i>Employment Details</h4>
                <div class="panel-heading-btn">
                    <a href="javascript:;" class="btn btn-xs btn-icon btn-warning" data-toggle="panel-collapse"><i
                            class="fa fa-minus"></i></a>
                </div>
            </div>
            <div class="panel-body">
                
                <div class="mb-3">
                    <label class="form-label">Position Title</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-user-tie"></i></span>
                        <input class="form-control" type="text" id="ppt" name="pastpositiontitle" placeholder="Position Title"
                            value="{{work_entry.pastpositiontitle}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Company/Office/Agency</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-building"></i></span>
                        <input class="form-control" type="text" id="pcoa" name="pastcompanyofficeagency" placeholder="Company/Office/Agency Name"
                            value="{{work_entry.pastcompanyofficeagency}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Monthly Salary</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-peso-sign"></i></span> 
                        <input class="form-control" type="text" id="pms" name="pastmonthlysalary" placeholder="Monthly Salary (e.g., 25000.00)"
                            value="{{work_entry.pastmonthlysalary}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Salary Grade</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-sort-numeric-up"></i></span>
                        <input type="text" class="form-control" id="psg" name="pastsalarygrade" placeholder="Salary Grade (e.g., 11)"
                            value="{{work_entry.pastsalarygrade}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Appointment Status</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-id-badge"></i></span>
                        <input type="text" class="form-control" id="paps" name="pastappointmentstatus" placeholder="Appointment Status (e.g., Permanent, Contractual)"
                            value="{{work_entry.pastappointmentstatus}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Government Service</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-landmark"></i></span>
                        <div class="form-control d-flex align-items-center">
                             <input type="checkbox" class="form-check-input me-2" id="pgs" name="pastgovernmentservice"
                                value="true" {% if work_entry.pastgovernmentservice %}checked{% endif %} style="margin-top: 0;" />
                             <label class="form-check-label" for="gs">Check if this is government service.</label>
                        </div>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">From Date</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-calendar-check"></i></span>
                        <input type="date" class="form-control" id="pfd" name="pastfromdate" placeholder="From Date"
                            value="{{work_entry.pastfromdate|date:'Y-m-d'}}" />
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">To Date</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-calendar-times"></i></span>
                        <input type="date" class="form-control" id="ptd" name="pasttodate" placeholder="To Date"
                            value="{{work_entry.pasttodate|date:'Y-m-d'}}" />
                    </div>
                </div>
                
            </div>
        </div>

        <div class="text-end mt-3">
        <button type="submit" class="btn btn-dark px-4" name="form_type" value="past"><i class="fas fa-save me-2"></i>Save</button>
    </div>  

    </form>
</div>
{% if error == "no" %}
<script>
    alert('Work Experience Updated Successfully');
    window.location = ("workexperience");
</script>
{% endif %}
{% if error == "yes" %}
<script>
    alert('Something went wrong, try again.');
</script>
{% endif %}
{% endblock %}